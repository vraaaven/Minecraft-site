"use strict";function sendForm(e){var o=e,t=o.find("button"),n=new FormData(o[0]);function i(e){e.find(".is-error").removeClass("is-error")}function s(e){e.removeClass("is-loading")}t.hasClass("is-loading")||$.ajax({url:o.attr("action"),type:o.attr("method"),data:n,processData:!1,contentType:!1,dataType:"json",beforeSend:function(){i(o),function(e){e.addClass("is-loading")}(t)},success:function(n){setTimeout(function(){s(t),initInput(),n.result?(o[0].reset(),n.messages.length&&showPopupMessage(n.messages)):(n.messages.length&&showPopupMessage(n.messages),function(o,t){$.each(t,function(t,n){(e=o.find("[name='"+n+"']")).length&&e.addClass("is-error")})}(o,n.errors))},1e3)},error:function(e){setTimeout(function(){i(o),s(t)},1e3)}})}function showPopupMessage(e){$.colorbox({html:'<div class="popup-message">'+e+"</div>",maxWidth:"100%",maxHeight:"100%",opacity:!1,className:"colorbox-message"})}function initInput(){$().datepicker&&$("[data-calendar]").datepicker({autoClose:!0,toggleSelected:!1,keyboardNav:!1}),$().inputmask&&$('[data-mask="phone"]').inputmask("+7-999-999-99-99"),$().styler&&$(":not(.nostyle)").styler({singleSelectzIndex:10,filePlaceholder:"Файл не выбран",fileBrowse:"Выбрать",fileNumber:"Выбрано файлов: %s",onFormStyled:function(){$(".jq-selectbox__trigger-arrow").html('<svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg>'),$(".jq-checkbox__div").html('<svg class="icon icon-checkbox"><use xlink:href="#icon-checkbox"></svg>')}})}function scroll2element(e,o,t,n){null==o&&(o="slow"),null==t&&(t=50),null==n&&(n=!0);var i=e.offset().top-t,s=window.pageYOffset,r=window.pageYOffset+document.documentElement.clientHeight;(!n||(i<s||i>r))&&$("html, body").animate({scrollTop:i+"px"},o)}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header"),o=document.querySelector(".under-header"),t=e.offsetHeight;window.addEventListener("scroll",function(){window.pageYOffset>0?(e.classList.add("scroll"),o.style.marginTop=t+"px"):(e.classList.remove("scroll"),o.style.marginTop="0")});var n=document.querySelectorAll(".faq__item");n&&n.forEach(function(e){e.querySelector(".faq__question").addEventListener("click",function(){n.forEach(function(o){o!==e&&o.classList.contains("active")&&o.classList.remove("active")}),e.classList.toggle("active")})});var i=!1;function s(){window.innerWidth<=1100&&!i?($(".slider").slick({arrows:!0,prevArrow:'<i class="slider__arrow slider__arrow--prev"><svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg></i>',nextArrow:'<i class="slider__arrow slider__arrow--next"><svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg></i>',dots:!0,dotsClass:"slider__dots",autoplay:!0,autoplaySpeed:3e3,infinite:!0,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1}),i=!0):window.innerWidth>1100&&i&&($(".slider").slick("unslick"),i=!1)}s(),window.addEventListener("resize",s)}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("burger-btn"),o=document.getElementById("mobile-menu");e.addEventListener("click",function(){e.classList.toggle("is-open"),o.classList.toggle("is-open")}),o.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(){e.classList.remove("is-open"),o.classList.remove("is-open")})})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("myLightbox");if(e){var o=function(){e.classList.remove("is-visible")},t=e.querySelector(".lightbox__image"),n=e.querySelector(".lightbox__close-btn"),i=document.querySelectorAll(".info-item__img img");i.length>0&&i.forEach(function(o){o.addEventListener("click",function(o){var n,i=o.target.getAttribute("data-full-image");i&&(n=i,t.src=n,e.classList.add("is-visible"))})}),n&&n.addEventListener("click",o),e.addEventListener("click",function(t){t.target===e&&o()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e.classList.contains("is-visible")&&o()})}});var vw=window.innerWidth,vh=window.innerHeight,sw=screen.width,sh=screen.height,pageScroll=window.pageYOffset||document.documentElement.scrollTop;jQuery(document).ready(function(e){var o;e(window).resize(function(){vw=window.innerWidth,vh=window.innerHeight,sw=screen.width,sh=screen.height}),e(document).scroll(function(){pageScroll=window.pageYOffset||document.documentElement.scrollTop}),initInput(),e('[href^="#"]').click(function(o){o.preventDefault(),e(this).attr("href").length>1&&scroll2element(e(e(this).attr("href")),1e3,0,!1)}),o="",e(document).on("focusin","input, textarea",function(){o=e(this).attr("placeholder"),e(this).attr("placeholder","")}),e(document).on("focusout","input, textarea",function(){e(this).attr("placeholder",o)}),e(document).on("submit","[data-form-ajax]",function(o){o.preventDefault(),sendForm(e(this))}),e("[data-popup-form]").click(function(o){o.preventDefault();var t=e(this).data("popup-form");e.colorbox({href:"/ajax/form/"+t+"-form.html",className:"colorbox-form",maxWidth:"100%",maxHeight:"100%",opacity:!1})}),e(".colorbox").colorbox({maxWidth:"100%",maxHeight:"100%",opacity:!1}),e(document).bind("cbox_complete",function(){initInput(),e("#cboxPrevious").html('<svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg>'),e("#cboxNext").html('<svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg>')}),e(document).bind("cbox_load",function(){e("#cboxClose").html('<svg class="icon icon-close"><use xlink:href="#icon-close"></svg>')}),e(".slider").slick({arrows:!0,prevArrow:'<i class="slider__arrow slider__arrow--prev"><svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg></i>',nextArrow:'<i class="slider__arrow slider__arrow--next"><svg class="icon icon-arrow"><use xlink:href="#icon-arrow"></svg></i>',dots:!0,dotsClass:"slider__dots",customPaging:function(e,o){return""},autoplay:!1,autoplaySpeed:3e3,infinite:!1,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,responsive:[{breakpoint:1219,settings:{slidesToShow:3}}]}),new Swiper(".slider2",{autoHeight:!0,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1200:{slidesPerView:3}}})});